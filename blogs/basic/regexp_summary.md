## 正则规范
1. POSIX
```
是 UNIX 遵循的标准, UNIX 的命令如 grep、sed 能用的正则是 POSIX。
```
2. PCRE
```
php、js
```

## 基础概念
### 元字符

常用元字符 | 含义
---|---
. | 匹配出换行符以外的任意字符
\w | 匹配字母、数组、下划线
\W | 匹配不是（字母、数组、下划线）的字符
\d | 匹配数子 相当于[0-9]
\D | 匹配非数字 相当于[^0-9]
\s | 匹配任意不可见字符，包括空格、制表符、换行符等
\S | 匹配任意可见字符
^ | 匹配字符串的开始位置
$ | 匹配字符串的结束位置

### 量词

量词 | 含义
---|---
`*` | 重复任意次，相当于{0,}
`?` | 重复0或1次，相当于{0,1}
`+` | 重复1或多次，相当于{1,}
{n} | 重复n次
{n,} | 重复至少n次
{n,m} | 重复n到m次
x*?<br>x+?<br>x??<br>x{n}?<br>x{n,}?<br>x{n,m}? | 默认*、.等是`greedy`，?使其变为`non-greedy` 非贪婪

## 分支&字符集
### 分支
```/abc|bbb/```

### 字符集
```- /[abc]/```
- `[abc]==[a-c]`
- `[^abc]==[^a-c]`

## 分组
- `()` 捕获
- `(?:)` 非捕获

## 引用
1. 结果里
```js
/(\d{4})-(\d{2})-(\d{2})/.exec('2019-08-09')
//  ["2019-08-09", "2019", "08", "09", index: 0, input: "2019-08-09", groups: undefined]

RegExp.$1 // 2019

'2019-08-09'.replace(/(\d{4})-(\d{2})-(\d{2})/, '$1/$2/$3') // 2019/08/09

// es8? 比较新
/(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/.exec('2019-09-08')
//  ["2019-09-08", "2019", "09", "08", index: 0, input: "2019-09-08",groups: {year: "2019", month: "09", day: "08"}]

```
2. 正则里
```js
/(\d{4})-(\d{2})-\2/.test('2019-09-09') // true
/(\d{4})-(\d{2})-\2/.test('2019-09-11') // false
```

## 转义
- 当字符出现特殊意义或作用时 需要转义
```js
/[\^abc]/.test('^')
/url\?a=b/.test('url?a=b')
```

## 零宽断言（环视 lookaround assertions）
- 根据方向不同：lookahead、lookbehind
- 根据判断原则：肯定、否定

 . | 正向 | 负向
---|---|---
肯定 | (?=pattern) | (?<=pattern)
否定 | (?!=pattern) | (?<!pattern)

```js
// 1. 正向肯定
/\d{4}-\d{2}-(?=08)/.test('2019-09-08') // true
/\d{4}-\d{2}-(?=08)/.test('2019-09-07') // false

// 2. 正向否定
/\d{4}-\d{2}-(?!08)/.test('2019-09-08') // false
/\d{4}-\d{2}-(?!08)/.test('2019-09-06') // true

// 3. 反向肯定
/(?<=2019)-\d{2}-\d{2}/.test('2019-09-08') // true
/(?<=2019)-\d{2}-\d{2}/.test('1970-09-08') // false

// 4. 反向否定
/(?<!2019)-\d{2}-\d{2}/.test('1997-09-08') // true
/(?<!2019)-\d{2}-\d{2}/.test('2019-09-08') // false

```

## 惰性&贪婪
1. 惰性模式-在匹配成功的前提下，先尽可能`少`的去匹配
2. 贪婪模式-在匹配成功的前提下，先尽可能`多`的去匹配

```js
/ab*/.exec('abbbb') // ["abbbb", index: 0, input: "abbbb", groups: undefined]
/ab*?/.exec('abbbb') // ["a", index: 0, input: "abbbb", groups: undefined]
```

## 修饰符&标志

1. g → global
2. i → ignoreCase
3. m → multiline
4. y → sticky
5. u → unicode
6. s → dotAll