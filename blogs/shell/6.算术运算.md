# 算数运算

## 1. 算数表达式

((...)) **整数**运算，内部可含空格

```shell
$ ((foo = 5 + 5))
$ echo $foo
10
```

算数结果为0 则算命令执行失败

```shell
# 失败
$ ((foo=0+0))
$ echo $?
1

# 成功
$ ((1+1))
$ echo $?
0

```

$((...))获取算数结果

```shell
$ echo $((1+1))
2
$ echo $((foo=1+1))
2
```

支持的运算符

```shell
1. +
2. -
3. *
4. / 只返回整数部分
5. % 取余
6. ** 指数
7. ++ （前缀或后缀）
8. -- （前缀或后缀）
```

支持的位运算

```shell
- <<
- >>
- &
- |
- ~ 非
- ^ 异或
```

支持的逻辑运算

```shell
- <
- >
- <=
- >=
- ==
- !=
- &&
- ||
- !
- expr1?expr2:expr3 三元运算符
```

赋值运算

```shell
$ echo $((a=1))
1
$ echo $a
1
```

```shell
- =
- +=
- -=
等...
```

求值运算 ","

```shell
$ echo $((foo = 1 + 2, 3 * 4))
12
```



内部可再加圆括号，改变运算顺序

```shell
$ echo $(( (2 + 3) * 4 ))
20
```

## 2. 进制

默认为10进制

```shell
- number
- 0number: 八进制
- 0xnumber: 十六进制
- n#number: n进制
```

```shell
$ echo $((0xff))
255
$ echo $((2#11111111))
255
```

## 3. expr

expr计算可以不用((...))

```shell
# !! 必须有空格
$ expr 3 + 2
5
```

## 4. let

`let`命令用于将算术运算的结果，赋予一个变量。

```shell
$ let x=2+3
$ echo $x
5
```



